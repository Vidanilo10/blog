<div class="music-container">
  <h1>ğŸµ Music Recommendations</h1>
  <p class="intro-text">Discover amazing playlists and music videos curated just for you!</p>

  <!-- Recommended Spotify Playlists Section -->
  <section class="music-section">
    <h2>ğŸ§ Recommended Spotify Playlists</h2>
    <p class="section-description">Check out these popular playlists across different genres</p>
    <div class="playlists-grid">
      <div class="playlist-card" *ngFor="let playlist of recommendedSpotifyPlaylists">
        <iframe 
          [src]="getSafeSpotifyPlaylistUrl(playlist.id)"
          width="100%" 
          height="380" 
          frameBorder="0" 
          allowfullscreen="" 
          allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" 
          loading="lazy">
        </iframe>
        <div class="playlist-info">
          <h3 class="playlist-name">{{ playlist.name }}</h3>
          <p class="playlist-description">{{ playlist.description }}</p>
        </div>
      </div>
    </div>
  </section>

  <!-- YouTube Playlists Section -->
  <section class="music-section">
    <h2>ğŸ“º YouTube Music Playlists</h2>
    <p class="section-description">Full playlists from YouTube for extended listening</p>
    <div class="playlists-grid">
      <div class="playlist-card" *ngFor="let playlist of recommendedYouTubePlaylists">
        <iframe 
          [src]="getSafeYoutubePlaylistUrl(playlist.id)"
          width="100%" 
          height="380" 
          frameBorder="0" 
          allowfullscreen="" 
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
          loading="lazy">
        </iframe>
        <div class="playlist-info">
          <h3 class="playlist-name">{{ playlist.name }}</h3>
          <p class="playlist-description">{{ playlist.description }}</p>
        </div>
      </div>
    </div>
  </section>

  <!-- YouTube Section - Favorite/Liked Videos -->
  <section class="music-section">
    <h2>ğŸ¬ Recommended Music Videos</h2>
    <p class="section-description">Popular music videos you might enjoy</p>
    
    <div class="youtube-grid">
      <div class="youtube-card" *ngFor="let video of recommendedYouTubeVideos">
        <div class="video-thumbnail">
          <iframe 
            [src]="getSafeYoutubeUrl(video.id)"
            width="100%" 
            height="200" 
            frameborder="0" 
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
            allowfullscreen
            loading="lazy">
          </iframe>
        </div>
        <div class="video-details">
          <h3 class="video-title">{{ video.title }}</h3>
          <p class="video-channel">{{ video.channelTitle }}</p>
        </div>
      </div>
    </div>
  </section>

  <!-- YouTube Section - Search -->
  <section class="music-section">
    <h2>ğŸ” Search Music Videos</h2>

    <div class="search-bar">
      <input 
        type="text" 
        [(ngModel)]="youtubeSearchQuery" 
        placeholder="Search for music videos..."
        class="youtube-search-input"
        (keyup.enter)="loadYouTubeVideos(youtubeSearchQuery)">
      <button class="search-btn" (click)="loadYouTubeVideos(youtubeSearchQuery)">
        Search ğŸ”
      </button>
    </div>
    
    <div class="youtube-loading" *ngIf="isYouTubeLoading">
      <p>Loading videos...</p>
    </div>

    <div class="youtube-grid" *ngIf="!isYouTubeLoading && youtubeVideos.length > 0">
      <div class="youtube-card" *ngFor="let video of youtubeVideos">
        <div class="video-thumbnail">
          <iframe 
            [src]="getSafeYoutubeUrl(video.id)"
            width="100%" 
            height="200" 
            frameborder="0" 
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
            allowfullscreen
            loading="lazy">
          </iframe>
        </div>
        <div class="video-details">
          <h3 class="video-title">{{ video.title }}</h3>
          <p class="video-channel">{{ video.channelTitle }}</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Enhanced Recommendations Guide -->
  <section class="recommendations-guide">
    <div class="guide-header">
      <h3 class="guide-title">ğŸ’¡ About These Recommendations</h3>
      <p class="guide-subtitle">Your personalized music discovery hub</p>
    </div>
    
    <div class="features-grid">
      <div class="feature-card">
        <div class="feature-icon">ğŸ§</div>
        <h4 class="feature-title">Curated Playlists</h4>
        <p class="feature-description">
          Handpicked Spotify playlists covering everything from today's hits to timeless classics
        </p>
      </div>
      
      <div class="feature-card">
        <div class="feature-icon">ğŸ¬</div>
        <h4 class="feature-title">Music Videos</h4>
        <p class="feature-description">
          Popular music videos from YouTube's most-watched content across all genres
        </p>
      </div>
      
      <div class="feature-card">
        <div class="feature-icon">ğŸ”</div>
        <h4 class="feature-title">Search & Discover</h4>
        <p class="feature-description">
          Find any music video instantly with our integrated YouTube search functionality
        </p>
      </div>
      
      <div class="feature-card">
        <div class="feature-icon">â–¶ï¸</div>
        <h4 class="feature-title">Play Instantly</h4>
        <p class="feature-description">
          No login required - play all content directly in your browser without interruption
        </p>
      </div>
    </div>
  </section>
</div>
