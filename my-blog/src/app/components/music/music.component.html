<div class="music-container">
  <h1>ğŸµ Music Recommendations</h1>
  <p class="intro-text">Discover amazing playlists and music videos curated just for you!</p>

  <!-- Recommended Spotify Playlists Section -->
  <section class="music-section">
    <h2>ğŸ§ Recommended Spotify Playlists</h2>
    <p class="section-description">Check out these popular playlists across different genres</p>
    <div class="playlists-grid">
      <div class="playlist-card" *ngFor="let playlist of recommendedSpotifyPlaylists">
        <iframe 
          [src]="getSafeSpotifyPlaylistUrl(playlist.id)"
          width="100%" 
          height="380" 
          frameBorder="0" 
          allowfullscreen="" 
          allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" 
          loading="lazy">
        </iframe>
        <div class="playlist-info">
          <h3 class="playlist-name">{{ playlist.name }}</h3>
          <p class="playlist-description">{{ playlist.description }}</p>
        </div>
      </div>
    </div>
  </section>

  <!-- YouTube Section - Favorite/Liked Videos -->
  <section class="music-section">
    <h2>ğŸ¬ Recommended Music Videos</h2>
    <p class="section-description">Popular music videos you might enjoy</p>
    
    <div class="youtube-grid">
      <div class="youtube-card" *ngFor="let video of recommendedYouTubeVideos">
        <div class="video-thumbnail">
          <iframe 
            [src]="getSafeYoutubeUrl(video.id)"
            width="100%" 
            height="200" 
            frameborder="0" 
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
            allowfullscreen
            loading="lazy">
          </iframe>
        </div>
        <div class="video-details">
          <h3 class="video-title">{{ video.title }}</h3>
          <p class="video-channel">{{ video.channelTitle }}</p>
        </div>
      </div>
    </div>
  </section>

  <!-- YouTube Section - Search -->
  <section class="music-section">
    <h2>ğŸ” Search Music Videos</h2>

    <div class="search-bar">
      <input 
        type="text" 
        [(ngModel)]="youtubeSearchQuery" 
        placeholder="Search for music videos..."
        class="youtube-search-input"
        (keyup.enter)="loadYouTubeVideos(youtubeSearchQuery)">
      <button class="search-btn" (click)="loadYouTubeVideos(youtubeSearchQuery)">
        Search ğŸ”
      </button>
    </div>
    
    <div class="youtube-loading" *ngIf="isYouTubeLoading">
      <p>Loading videos...</p>
    </div>

    <div class="youtube-grid" *ngIf="!isYouTubeLoading && youtubeVideos.length > 0">
      <div class="youtube-card" *ngFor="let video of youtubeVideos">
        <div class="video-thumbnail">
          <iframe 
            [src]="getSafeYoutubeUrl(video.id)"
            width="100%" 
            height="200" 
            frameborder="0" 
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
            allowfullscreen
            loading="lazy">
          </iframe>
        </div>
        <div class="video-details">
          <h3 class="video-title">{{ video.title }}</h3>
          <p class="video-channel">{{ video.channelTitle }}</p>
        </div>
      </div>
    </div>
  </section>

  <div class="integration-guide">
    <h3>ï¿½ About These Recommendations</h3>
    <div class="guide-content">
      <p class="info-text">
        These playlists and music videos are carefully curated to showcase popular music across different genres. 
        You can play them directly on Spotify and YouTube without needing to log in!
      </p>
      <div class="customization-tip">
        <h4>ğŸ¨ Want to customize?</h4>
        <p>You can easily update the recommended playlists and videos by editing the component code:</p>
        <ul>
          <li>Add your favorite Spotify playlist IDs to <code>recommendedSpotifyPlaylists</code></li>
          <li>Add your favorite YouTube video IDs to <code>recommendedYouTubeVideos</code></li>
          <li>Mix and match genres to create your perfect music showcase!</li>
        </ul>
      </div>
    </div>
  </div>
</div>
